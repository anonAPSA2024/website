[
  {
    "objectID": "Research.html",
    "href": "Research.html",
    "title": "Grant Materials",
    "section": "",
    "text": "Knowledge of Job Insecurity and Policy Preferences"
  },
  {
    "objectID": "Research.html#online-supplementary-materials",
    "href": "Research.html#online-supplementary-materials",
    "title": "Grant Materials",
    "section": "",
    "text": "Knowledge of Job Insecurity and Policy Preferences"
  },
  {
    "objectID": "chap2_power_experiment.html",
    "href": "chap2_power_experiment.html",
    "title": "Anonymized Dissertation Grant",
    "section": "",
    "text": "Download Anonymized Grant"
  },
  {
    "objectID": "chap2_grants_ext.html",
    "href": "chap2_grants_ext.html",
    "title": "Anonymized Dissertation Grant",
    "section": "",
    "text": "Download Anonymized Grant"
  },
  {
    "objectID": "chap2.html",
    "href": "chap2.html",
    "title": "Overview",
    "section": "",
    "text": "Anonymized Dissertation Grant Received\nAnonymized Dissertation Grant Extension"
  },
  {
    "objectID": "chap2.html#previous-rewarded-grants",
    "href": "chap2.html#previous-rewarded-grants",
    "title": "Overview",
    "section": "",
    "text": "Anonymized Dissertation Grant Received\nAnonymized Dissertation Grant Extension"
  },
  {
    "objectID": "chap2.html#european-social-survey-occupation-plots",
    "href": "chap2.html#european-social-survey-occupation-plots",
    "title": "Overview",
    "section": "European Social Survey Occupation Plots",
    "text": "European Social Survey Occupation Plots\nReplication Files"
  },
  {
    "objectID": "chap2.html#power-analysis-documents",
    "href": "chap2.html#power-analysis-documents",
    "title": "Overview",
    "section": "Power Analysis Documents",
    "text": "Power Analysis Documents\nExperiment Power Analysis\nSurvey Power Analysis"
  },
  {
    "objectID": "chap2.html#irb-applications",
    "href": "chap2.html#irb-applications",
    "title": "Overview",
    "section": "IRB Applications",
    "text": "IRB Applications\nAnonymized IRB Application for Survey\nAnonymized IRB Application for Experiment"
  },
  {
    "objectID": "chap2.html#data-management-plans",
    "href": "chap2.html#data-management-plans",
    "title": "Overview",
    "section": "Data Management Plans",
    "text": "Data Management Plans"
  },
  {
    "objectID": "chap2_grants.html",
    "href": "chap2_grants.html",
    "title": "Anonymized Dissertation Grant",
    "section": "",
    "text": "Download Anonymized Grant"
  },
  {
    "objectID": "chap2_occ_plot.html",
    "href": "chap2_occ_plot.html",
    "title": "European Social Survey 2014 Occupation Plot Replication Materials",
    "section": "",
    "text": "View-Only File\n\n\n\n\n\n    &lt;h1&gt;View-Only Content&lt;/h1&gt;\n    &lt;p&gt;This is a sample text that is view-only. You cannot select, copy, or edit this text.&lt;/p&gt;\n&lt;/div&gt;"
  },
  {
    "objectID": "chap2_power_survey.html",
    "href": "chap2_power_survey.html",
    "title": "Anonymized Dissertation Grant",
    "section": "",
    "text": "Embed R File\n    \n\n\n\nSurvey Power Analysis\n\n#####################################\n# From Scratch Power Analysis Monte Carlo\n######################################\n\n# Clear Environment\nrm(list=ls())\n\n\nset.seed(209365)\n\nlibrary(EnvStats)\nlibrary(truncnorm)\nlibrary(ggplot2)\nlibrary(haven)\nlibrary(readr)\nlibrary(tidyverse)\nlibrary(MASS)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(faux)\nlibrary(lubridate)\nlibrary(truncnorm)\nlibrary(scales)\n\n\nset.seed(92351235)\n\n\n\n# Create a timing function for the power analysis\n\ndhms &lt;- function(t){\n  paste(t %/% (60*60*24) \n        ,paste(formatC(t %/% (60*60) %% 24, width = 2, format = \"d\", flag = \"0\")\n               ,formatC(t %/% 60 %% 60, width = 2, format = \"d\", flag = \"0\")\n               ,formatC(t %% 60, width = 2, format = \"d\", flag = \"0\")\n               ,sep = \":\"\n        )\n  )\n}\n\n\n# Informed Direct Effects\nb1_vector &lt;- c(.2, .5)\n\n#Uninformed Spillover Effects\nb2_vector &lt;- c(.5,.8)\n\n# Informed Direct Effects\nb3_vector &lt;- c(.2)\n\n#Uninformed Spillover Effects\nb4_vector &lt;- c(.2)\n\n# Informed Direct Effects\nb5_vector &lt;- c(.2, .5)\n\n#Uninformed Spillover Effects\nb6_vector &lt;- c(-.2, -.5)\n\n# Informed Direct Effects\nb7_vector &lt;- c(.5)\n\n\n\n\n\n\n\n# Sample Size Vector\ninput_sample_size_vector &lt;- seq(from=1000, to=6000, by=1000)\n\n\n\na &lt;- 1\nc &lt;- 1\nnumber_of_samples &lt;- 100\n\n\npower_mc_hypo &lt;- function(b1_vector, b2_vector, b3_vector, b4_vector, b5_vector, b6_vector,\n                          b7_vector,input_sample_size_vector, number_of_samples){\n  \n  \n  \n  permutations &lt;- expand.grid(b1_vector, b2_vector, b3_vector, b4_vector, b5_vector, b6_vector,\n                              b7_vector, input_sample_size_vector)\n  \n  \n  permutations &lt;- dplyr::rename(permutations, beta1=Var1, beta2=Var2, beta3=Var3,\n                                beta4=Var4, beta5=Var5, beta6=Var6, beta7=Var7, sample_size=Var8)\n  \n  startTimeTotal &lt;- Sys.time()\n  for(a in 1:nrow(permutations)){\n    beta1_temp &lt;- permutations$beta1[a]\n    beta2_temp &lt;- permutations$beta2[a]\n    beta3_temp &lt;- permutations$beta3[a]\n    beta4_temp &lt;- permutations$beta4[a]\n    beta5_temp &lt;- permutations$beta5[a]\n    beta6_temp &lt;- permutations$beta6[a]\n    beta7_temp &lt;- permutations$beta7[a]\n\n    sample_size &lt;- permutations$sample_size[a]\n\n    \n    \n    startTime &lt;- Sys.time() \n    \n    \n    \n    c_data &lt;-as.data.frame(matrix(data=NA, \n                                  nrow=(number_of_samples),\n                                  ncol=37))\n    \n    \n    c_data &lt;- rename(c_data, \n                     H1_agg_mig = V1,\n                     H1_agg_auto = V2,\n                     H1_agg_off = V3,\n                     H1_agg_imp = V4,\n                     H2_agg_mig = V5,\n                     H2_agg_auto = V6,\n                     H2_agg_off = V7,\n                     H2_agg_imp = V8,\n                     H3_agg_mig = V9,\n                     H3_agg_auto = V10,\n                     H3_agg_off = V11,\n                     H3_agg_imp = V12,\n                     H4_agg_mig = V13,\n                     H4_agg_auto = V14,\n                     H4_agg_off = V15,\n                     H4_agg_imp = V16,\n                     H5_agg_auto = V18,\n                     H5_agg_off = V19,\n                     H5_agg_imp = V20,\n                     H6_agg_mig = V21,\n                     H6_agg_auto = V22,\n                     H6_agg_off = V23,\n                     H6_agg_imp = V24,\n                     H7_agg_mig = V25,\n                     H7_agg_auto = V26,\n                     H7_agg_off = V27,\n                     H7_agg_imp = V28,\n                     sample_size=V29,\n                     correlation=V30,\n                     beta1=V31,\n                     beta2=V32,\n                     beta3=V33,\n                     beta4=V34,\n                     beta5=V35,\n                     beta6=V36,\n                     beta7=V37\n    )\n    \n    \n    for(c in 1:number_of_samples){\n      \n      ind_sample &lt;-as.data.frame(matrix(data=NA, \n                                        nrow=(sample_size),\n                                        ncol=1))\n      \n      \n      \n      county_fe &lt;- seq(from=-1, to=1, length.out=254)\n      state &lt;- seq(from=1, to=50, by=1 )\n\n      ind_sample$county_fe &lt;- sample(county_fe, sample_size, replace=TRUE)\n      ind_sample$state &lt;- sample(state, sample_size, replace=TRUE)\n      \n      ind_sample$off_ind_con &lt;- rtruncnorm(sample_size,0,1,.5,.25)\n      ind_sample$mig_ind_con &lt;-rtruncnorm(sample_size,0,1,.5,.25)\n      ind_sample$auto_ind_con &lt;-rtruncnorm(sample_size,0,1,.5,.25)\n      ind_sample$imp_ind_con &lt;-rtruncnorm(sample_size,0,1,.5,.25)\n      \n      \n\n      ind_sample$off_ind &lt;- ntile(ind_sample$off_ind_con, 7)\n      ind_sample$mig_ind &lt;- ntile(ind_sample$mig_ind_con, 7)\n      ind_sample$auto_ind &lt;- ntile(ind_sample$auto_ind_con, 7)\n      ind_sample$imp_ind &lt;- ntile(ind_sample$imp_ind_con, 7)\n\n      \n      state_risks &lt;- ind_sample %&gt;%\n                    group_by(state) %&gt;%\n                    dplyr::summarise(state_mig= mean(mig_ind_con),\n                                     state_off= mean(off_ind_con),\n                                     state_auto= mean(auto_ind_con),\n                                     state_imp= mean(imp_ind_con),\n                                     )\n      \n   \n      ind_sample &lt;- merge(ind_sample, state_risks, by=(\"state\"))\n      \n      \n      ind_sample$union &lt;- rbinom(sample_size, size=1, prob=.1)\n      ind_sample$party &lt;- rbinom(sample_size, size=1, prob=.5)\n      \n      ind_sample$cor_temp &lt;- rtruncnorm(sample_size,0,1) + beta7_temp*ind_sample$union\n      \n      ind_sample$cor_temp &lt;- ifelse(ind_sample$cor_temp&gt;=.95, .95, ind_sample$cor_temp)\n    \n      \n      ind_sample$off_ind_pec_con &lt;-  rnorm_pre(ind_sample$off_ind, r=ind_sample$cor_temp) \n      ind_sample$mig_ind_pec_con &lt;- rnorm_pre(ind_sample$mig_ind, r=ind_sample$cor_temp) \n      ind_sample$auto_ind_pec_con &lt;- rnorm_pre(ind_sample$auto_ind, r=ind_sample$cor_temp) \n      ind_sample$imp_ind_pec_con &lt;- rnorm_pre(ind_sample$imp_ind, r=ind_sample$cor_temp)  \n      \n\n      ind_sample$off_ind_pec &lt;- ntile(ind_sample$off_ind_pec_con, 7)\n      ind_sample$mig_ind_pec &lt;- ntile(ind_sample$mig_ind_pec_con, 7)\n      ind_sample$auto_ind_pec &lt;- ntile(ind_sample$auto_ind_pec_con, 7)\n      ind_sample$imp_ind_pec &lt;- ntile(ind_sample$imp_ind_pec_con, 7)\n\n      \n      ind_sample$off_ind_cer &lt;- rtruncnorm(sample_size,0,1,.5,.25)\n      ind_sample$mig_ind_cer &lt;-rtruncnorm(sample_size,0,1,.5,.25)\n      ind_sample$auto_ind_cer &lt;-rtruncnorm(sample_size,0,1,.5,.25)\n      ind_sample$imp_ind_cer &lt;-rtruncnorm(sample_size,0,1,.5,.25)\n      \n      # \n      ind_sample$off_ind_cer &lt;- ntile(ind_sample$off_ind_cer, 7)\n      ind_sample$mig_ind_cer &lt;- ntile(ind_sample$mig_ind_cer, 7)\n      ind_sample$auto_ind_cer &lt;- ntile(ind_sample$auto_ind_cer, 7)\n      ind_sample$imp_ind_cer &lt;- ntile(ind_sample$imp_ind_cer, 7)\n      # \n      ind_sample$not_off_ind &lt;- ind_sample$mig_ind + ind_sample$auto_ind + ind_sample$imp_ind\n      ind_sample$not_mig_ind &lt;- ind_sample$off_ind + ind_sample$auto_ind + ind_sample$imp_ind\n      ind_sample$not_auto_ind &lt;- ind_sample$mig_ind + ind_sample$off_ind + ind_sample$imp_ind\n      ind_sample$not_imp_ind &lt;- ind_sample$mig_ind + ind_sample$auto_ind + ind_sample$off_ind\n      \n      \n      ind_sample$mig_acc &lt;- (7-abs(ind_sample$mig_ind- ind_sample$mig_ind_pec))\n      ind_sample$off_acc &lt;- (7-abs(ind_sample$off_ind- ind_sample$off_ind_pec))\n      ind_sample$auto_acc &lt;- (7-abs(ind_sample$auto_ind- ind_sample$auto_ind_pec))\n      ind_sample$imp_acc &lt;- (7-abs(ind_sample$imp_ind- ind_sample$imp_ind_pec))\n  \n\n      ind_sample$error &lt;- rnorm(sample_size,0,1)\n      \n    \n      \n\n      \n      ind_sample$mig_opp_og &lt;- ind_sample$county_fe+ #County Fixed Effects\n                            beta1_temp*ind_sample$mig_ind +\n                            beta2_temp*ind_sample$mig_ind_pec +\n                          .5*ind_sample$not_mig_ind +\n                            beta4_temp*ind_sample$mig_ind_cer+\n                            beta5_temp*(ind_sample$mig_ind_cer*ind_sample$mig_ind_pec)+\n                            beta6_temp*(ind_sample$mig_ind_cer*ind_sample$not_mig_ind)+\n                             .2*ind_sample$state_mig + ind_sample$error\n      \n      \n      \n      \n      ind_sample$off_opp_og &lt;- ind_sample$county_fe+ #County Fixed Effects\n        beta1_temp*ind_sample$off_ind +\n        beta2_temp*ind_sample$off_ind_pec +\n        beta3_temp*ind_sample$not_off_ind +\n        beta4_temp*ind_sample$off_ind_cer+\n        beta5_temp*(ind_sample$off_ind_cer*ind_sample$off_ind_pec)+\n        beta6_temp*(ind_sample$off_ind_cer*ind_sample$not_off_ind)+\n        .2*ind_sample$state_off +  ind_sample$error\n      \n      \n      ind_sample$auto_opp_og &lt;- ind_sample$county_fe+ #County Fixed Effects\n        beta1_temp*ind_sample$auto_ind +\n        beta2_temp*ind_sample$auto_ind_pec +\n        beta3_temp*ind_sample$not_auto_ind +\n        beta4_temp*ind_sample$auto_ind_cer+\n        beta5_temp*(ind_sample$auto_ind_cer*ind_sample$auto_ind_pec)+\n        beta6_temp*(ind_sample$auto_ind_cer*ind_sample$not_auto_ind)+\n        .2*ind_sample$state_auto + ind_sample$error\n      \n      \n      \n      ind_sample$imp_opp_og &lt;- ind_sample$county_fe+ #County Fixed Effects\n        beta1_temp*ind_sample$imp_ind +\n        beta2_temp*ind_sample$imp_ind_pec +\n        beta3_temp*ind_sample$not_imp_ind +\n        beta4_temp*ind_sample$imp_ind_cer+\n        beta5_temp*(ind_sample$imp_ind_cer*ind_sample$imp_ind_pec)+\n        beta6_temp*(ind_sample$imp_ind_cer*ind_sample$not_imp_ind)+\n        .2*ind_sample$state_imp+  ind_sample$error\n      \n      \n      \n      ## Turn outcome variables into 7 categories\n      ind_sample$mig_opp &lt;- ntile(ind_sample$mig_opp_og, 7)\n      ind_sample$off_opp &lt;- ntile(ind_sample$off_opp_og, 7)\n      ind_sample$auto_opp &lt;- ntile(ind_sample$auto_opp_og, 7)\n      ind_sample$imp_opp &lt;-  ntile(ind_sample$imp_opp_og, 7)\n      \n      \n      \n      \n                 \n      \n      #########################\n      # Hypothesis 1\n      #########################\n\n      temp &lt;- summary(lm(mig_opp ~ mig_ind +mig_ind_pec*mig_ind_cer +not_mig_ind*mig_ind_cer +county_fe + state_mig, data=ind_sample))\n      c_data$H1_agg_mig[c] &lt;-ifelse(temp$coefficients[2,4]&lt;.05&\n                                temp$coefficients[2,1]&gt;0,1,0)\n      \n      \n      temp &lt;- summary(lm(off_opp ~ off_ind +off_ind_pec*off_ind_cer +not_off_ind*off_ind_cer +county_fe + state_off, data=ind_sample))\n      c_data$H1_agg_off[c] &lt;-ifelse(temp$coefficients[2,4]&lt;.05&\n                                      temp$coefficients[2,1]&gt;0,1,0)\n      \n      \n      temp &lt;- summary(lm(auto_opp ~ auto_ind +auto_ind_pec*auto_ind_cer +not_auto_ind*auto_ind_cer +county_fe + state_auto, data=ind_sample))\n      c_data$H1_agg_auto[c] &lt;-ifelse(temp$coefficients[2,4]&lt;.05&\n                                      temp$coefficients[2,1]&gt;0,1,0)\n      \n      \n      temp &lt;- summary(lm(imp_opp ~ imp_ind +imp_ind_pec*imp_ind_cer +not_imp_ind*imp_ind_cer +county_fe + state_imp, data=ind_sample))\n      c_data$H1_agg_imp[c] &lt;-ifelse(temp$coefficients[2,4]&lt;.05&\n                                      temp$coefficients[2,1]&gt;0,1,0)\n      \n      \n      \n      #########################\n      # Hypothesis 2\n      #########################\n      temp &lt;- summary(lm(mig_opp ~ mig_ind +mig_ind_pec*mig_ind_cer +not_mig_ind*mig_ind_cer +county_fe + state_mig, data=ind_sample))\n      c_data$H2_agg_mig[c] &lt;-ifelse(temp$coefficients[3,4]&lt;.05&\n                                      temp$coefficients[3,1]&gt;temp$coefficients[2,1],1,0)\n      \n      \n      temp &lt;- summary(lm(off_opp ~ off_ind +off_ind_pec*off_ind_cer +not_off_ind*off_ind_cer +county_fe + state_off, data=ind_sample))\n      c_data$H2_agg_off[c] &lt;-ifelse(temp$coefficients[3,4]&lt;.05&\n                                      temp$coefficients[3,1]&gt;temp$coefficients[2,1],1,0)\n      \n      \n      temp &lt;- summary(lm(auto_opp ~ auto_ind +auto_ind_pec*auto_ind_cer +not_auto_ind*auto_ind_cer +county_fe + state_auto, data=ind_sample))\n      c_data$H2_agg_auto[c] &lt;-ifelse(temp$coefficients[3,4]&lt;.05&\n                                      temp$coefficients[3,1]&gt;temp$coefficients[2,1],1,0)\n      \n      \n      temp &lt;- summary(lm(imp_opp ~ imp_ind +imp_ind_pec*imp_ind_cer +not_imp_ind*imp_ind_cer +county_fe + state_imp, data=ind_sample))\n      c_data$H2_agg_imp[c] &lt;-ifelse(temp$coefficients[3,4]&lt;.05&\n                                      temp$coefficients[3,1]&gt;temp$coefficients[2,1],1,0)\n      \n      \n      #########################\n      # Hypothesis 3\n      #########################\n      temp &lt;- summary(lm(mig_opp ~ mig_ind +mig_ind_pec*mig_ind_cer +not_mig_ind*mig_ind_cer +county_fe + state_mig, data=ind_sample))\n      c_data$H3_agg_mig[c] &lt;-ifelse(temp$coefficients[8,4]&lt;.05&\n                                      temp$coefficients[8,1]&gt;0,1,0)\n      \n      \n      temp &lt;- summary(lm(off_opp ~ off_ind +off_ind_pec*off_ind_cer +not_off_ind*off_ind_cer +county_fe + state_off, data=ind_sample))\n      c_data$H3_agg_off[c] &lt;-ifelse(temp$coefficients[8,4]&lt;.05&\n                                      temp$coefficients[8,1]&gt;0,1,0)\n      \n      \n      temp &lt;- summary(lm(auto_opp ~ auto_ind +auto_ind_pec*auto_ind_cer +not_auto_ind*auto_ind_cer +county_fe + state_auto, data=ind_sample))\n      c_data$H3_agg_auto[c] &lt;-ifelse(temp$coefficients[8,4]&lt;.05&\n                                       temp$coefficients[8,1]&gt;0,1,0)\n      \n      \n      temp &lt;- summary(lm(imp_opp ~ imp_ind +imp_ind_pec*imp_ind_cer +not_imp_ind*imp_ind_cer +county_fe + state_imp, data=ind_sample))\n      c_data$H3_agg_imp[c] &lt;-ifelse(temp$coefficients[8,4]&lt;.05&\n                                      temp$coefficients[8,1]&gt;0,1,0)\n      \n      #########################\n      # Hypothesis 4\n      #########################\n      temp &lt;- summary(lm(mig_opp ~ mig_ind +mig_ind_pec*mig_ind_cer +not_mig_ind*mig_ind_cer +county_fe + state_mig, data=ind_sample))\n      c_data$H4_agg_mig[c] &lt;-ifelse(temp$coefficients[9,4]&lt;.05&\n                                      temp$coefficients[9,1]&lt;0\n                                      ,1,0)\n\n\n      temp &lt;- summary(lm(off_opp ~ off_ind +off_ind_pec*off_ind_cer +not_off_ind*off_ind_cer +county_fe + state_off, data=ind_sample))\n      c_data$H4_agg_off[c] &lt;-ifelse(temp$coefficients[9,4]&lt;.05&\n                                      temp$coefficients[9,1]&lt;0,1,0)\n\n\n      temp &lt;- summary(lm(auto_opp ~ auto_ind +auto_ind_pec*auto_ind_cer +not_auto_ind*auto_ind_cer +county_fe + state_auto, data=ind_sample))\n      c_data$H4_agg_auto[c] &lt;-ifelse(temp$coefficients[9,4]&lt;.05&\n                                       temp$coefficients[9,1]&lt;0,1,0)\n\n\n      temp &lt;- summary(lm(imp_opp ~ imp_ind +imp_ind_pec*imp_ind_cer +not_imp_ind*imp_ind_cer +county_fe + state_imp, data=ind_sample))\n      c_data$H4_agg_imp[c] &lt;-ifelse(temp$coefficients[9,4]&lt;.05&\n                                      temp$coefficients[9,1]&lt;0,1,0)\n      \n      \n      \n      #########################\n      # Hypothesis 5\n      #########################\n      temp_mig &lt;- summary(lm(mig_opp ~ mig_ind +mig_ind_pec*mig_ind_cer +not_mig_ind*mig_ind_cer +county_fe + state_mig, data=ind_sample))\n  \n      \n      \n      temp_off &lt;- summary(lm(off_opp ~ off_ind +off_ind_pec*off_ind_cer +not_off_ind*off_ind_cer +county_fe + state_off, data=ind_sample))\n\n      \n      temp_auto &lt;- summary(lm(auto_opp ~ auto_ind +auto_ind_pec*auto_ind_cer +not_auto_ind*auto_ind_cer +county_fe + state_auto, data=ind_sample))\n\n      \n      \n      temp_imp &lt;- summary(lm(imp_opp ~ imp_ind +imp_ind_pec*imp_ind_cer +not_imp_ind*imp_ind_cer +county_fe + state_imp, data=ind_sample))\n   \n      \n      c_data$H5_agg_auto &lt;- ifelse(temp_mig$coefficients[4,1]&gt;temp_auto$coefficients[4,1] &\n                                temp_mig$coefficients[4,4]&lt;.05,1,0)\n      \n      c_data$H5_agg_imp &lt;- ifelse(temp_mig$coefficients[4,1]&gt;temp_imp$coefficients[4,1] &\n                                     temp_mig$coefficients[4,4]&lt;.05,1,0)\n      \n      c_data$H5_agg_off &lt;- ifelse(temp_mig$coefficients[4,1]&gt;temp_off$coefficients[4,1] &\n                                     temp_mig$coefficients[4,4]&lt;.05,1,0)\n      \n      \n      \n      ###############################\n      # Hypothesis 6\n      ###############################\n      \n      temp &lt;- summary(lm(mig_acc ~ union, data=ind_sample))\n      c_data$H6_agg_mig[c] &lt;-ifelse(temp$coefficients[2,4]&lt;.05&\n                                      temp$coefficients[2,1]&lt;0,1,0)\n      \n      temp &lt;- summary(lm(off_acc ~ union, data=ind_sample))\n      c_data$H6_agg_off[c] &lt;-ifelse(temp$coefficients[2,4]&lt;.05&\n                                      temp$coefficients[2,1]&lt;0,1,0)\n      \n      temp &lt;- summary(lm(auto_acc ~ union, data=ind_sample))\n      c_data$H6_agg_auto[c] &lt;-ifelse(temp$coefficients[2,4]&lt;.05&\n                                      temp$coefficients[2,1]&lt;0,1,0)\n      \n      temp &lt;- summary(lm(imp_acc ~ union, data=ind_sample))\n      c_data$H6_agg_imp[c] &lt;-ifelse(temp$coefficients[2,4]&lt;.05&\n                                      temp$coefficients[2,1]&lt;0,1,0)\n      \n      \n\n      \n      \n      \n      #######################\n      # Export True DGP Data\n      #########################\n\n      c_data$sample_size[c] &lt;- sample_size\n      c_data$beta1[c] &lt;- beta1_temp\n      c_data$beta2[c] &lt;- beta2_temp\n      c_data$beta3[c] &lt;- beta3_temp\n      c_data$beta4[c] &lt;- beta4_temp\n      c_data$beta5[c] &lt;- beta5_temp\n      c_data$beta6[c] &lt;- beta6_temp\n      c_data$beta7[c] &lt;- beta7_temp\n\n\n      \n      \n    }\n    \n    \n    \n    if(a==1){b_data &lt;- c_data}else{\n      b_data &lt;- rbind(b_data, c_data)}\n    \n    \n    \n    endTime &lt;- Sys.time() \n    \n    \n    \n    cat(paste0(\"Loop \", a,\"/\", nrow(permutations), \"\\n\",\n               \"Loop Duration: \", round(as.numeric(endTime-startTime),2), \" seconds\"),\"\\n\",\n        \"Total Duration: \", dhms(as.numeric(endTime)-as.numeric(startTimeTotal)),\"\\n\",\"###############\",\"\\n\")\n  }\n  \n  \n  return(b_data)\n}\n\nmc_data &lt;- power_mc_hypo(b1_vector = b1_vector,\n                         b2_vector = b2_vector,\n                         b3_vector = b3_vector,\n                         b4_vector = b4_vector,\n                         b5_vector = b5_vector,\n                         b6_vector = b6_vector,\n                         b7_vector = b7_vector,\n                         number_of_samples = 100,\n                         input_sample_size_vector=input_sample_size_vector)\n\n\n\n\nwrite_dta(mc_data, \n          \"survey_power_analysis.dta\")"
  }
]